<!doctype html>
<html lang="en-gb" data-theme="light">
<head>
    <link rel="preconnect" href="https://sarah-rogue.me"/>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://sarah-rogue.me" crossorigin/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
        <link rel="canonical" href="https://sarah-rogue.me/2025/using-google-drive-on-arch-linux-kde-plasma/"/>
    <meta charset="utf-8"/>
    <base href="https://sarah-rogue.me/"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light">
    <meta name="robots" content="index, follow"/>
    <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@SarahRogue81"/>
        <meta name="twitter:creator" content="@SarahRogue81"/>

    <meta name="description" content="definitive steps to get Google Drive to work under Dolphin, the KDE file manager"/>
        <link href="https://sarah-rogue.me/feeds/all.atom.xml"
              type="application/atom+xml"
              rel="alternate" title="Sarah's Website Atom Feed"/>
    <title>Sarah's Website</title>
    <link rel="shortcut icon" href="/favicon.ico"/>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
    <link rel="apple-touch-icon" href="/apple-touch-icon.png"/>
    <link rel="manifest" href="/manifest.json"/>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"/>
    <link rel="stylesheet" href="https://sarah-rogue.me/theme/assets/pico-main/css/pico.min.css">
    <link rel="stylesheet" href="https://sarah-rogue.me/theme/css/main.css">
<link rel="stylesheet" href="https://sarah-rogue.me/css/styles.css"/></head>
<body>
<header class="container-fluid sr-theme sr-text-centre">
        <div class="sr-xxxlarge sr-text-bold">Sarah's Website</div>
</header>

<nav class="container-fluid sr-theme-darker">
    <a href="https://sarah-rogue.me/">
        <button class="secondary sr-theme-dark">home</button>
    </a>
    <a href="https://sarah-rogue.me/categories.html">
        <button class="secondary sr-theme-dark">categories</button>
    </a>
    <a href="https://sarah-rogue.me/tags.html">
        <button class="secondary sr-theme-dark">tags</button>
    </a>
        <a href="https://sarah-rogue.me/pages/about-me.html">
            <button class="secondary sr-theme-dark">about me</button>
        </a>
</nav>

<main class="container-fluid">
    <article class="sr-panel sr-border">
    <div class="sr-article-header sr-theme-light sr-padding">
        <h1>Using Google Drive on Arch Linux - KDE Plasma <span class="sr-theme-light sr-float-right sr-text-small"><a href="https://sarah-rogue.me/2025/using-google-drive-on-arch-linux-kde-plasma/">permalink</a></span></h1>
        <div class="sr-right-align sr-text-small">by Sarah Rogue
            on September 25, 2025</div>
    </div>
    <div class="sr-margin-top"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><strong>NOTE</strong>: i&#8217;ve been told that problems exist with KDE, in general - not just KDE Plasma. so, if you&#8217;re having trouble getting Google Drive to work with Dolphin, these steps may just work anyway</p>
</div>
<div class="paragraph">
<p>also</p>
</div>
<div class="paragraph">
<p>i got this info from <a href="https://reddit.com/r/kde/">Reddit</a> but can&#8217;t find the links - sorry about that</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_initial_steps">initial steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>first, install kio-gdrive</p>
</div>
<div class="paragraph">
<p>the following command is to install kio-gdrive on Arch Linux. i use CachyOS in particular but any <code>pacman</code> OS works</p>
</div>
<div class="paragraph">
<p>obviously, you can install kio-gdrive on other GNU/Linux operating systems</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-fish" data-lang="fish">sudo pacman -S kio-gdrive</code></pre>
</div>
</div>
<div class="paragraph">
<p>the problem is that simply installing kio-gdrive doesn&#8217;t work at all with KDE</p>
</div>
<div class="paragraph">
<p>however</p>
</div>
<div class="paragraph">
<p>it works just fine with GNOME</p>
</div>
<div class="paragraph">
<p>so, before you go to System Settings, Networking, Oneline Accounts, and add Google</p>
</div>
<div class="paragraph">
<p>do this first:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-fish" data-lang="fish">kate /usr/share/accounts/providers/kde/google.provider</code></pre>
</div>
</div>
<div class="paragraph">
<p>delete all the contents (every line) and copy and paste this XML doc instead:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;provider id="google"&gt;
  &lt;name&gt;Google&lt;/name&gt;

  &lt;description&gt;GNOME-ID, Google Drive and YouTube&lt;/description&gt;
  &lt;icon&gt;im-google&lt;/icon&gt;
  &lt;translations&gt;kaccounts-providers&lt;/translations&gt;
  &lt;domains&gt;.*google\.com&lt;/domains&gt;

  &lt;template&gt;
    &lt;group name="auth"&gt;
      &lt;setting name="method"&gt;oauth2&lt;/setting&gt;
      &lt;setting name="mechanism"&gt;web_server&lt;/setting&gt;
      &lt;group name="oauth2"&gt;
        &lt;group name="web_server"&gt;
          &lt;setting name="Host"&gt;accounts.google.com&lt;/setting&gt;
          &lt;setting name="AuthPath"&gt;o/oauth2/auth?access_type=offline&amp;amp;approval_prompt=force&lt;/setting&gt;
          &lt;setting name="TokenPath"&gt;o/oauth2/token&lt;/setting&gt;
          &lt;setting name="RedirectUri"&gt;http://localhost/oauth2callback&lt;/setting&gt;

          &lt;setting name="ResponseType"&gt;code&lt;/setting&gt;
          &lt;setting type="as" name="Scope"&gt;[
              'https://www.googleapis.com/auth/userinfo.email',
              'https://www.googleapis.com/auth/userinfo.profile',
              'https://www.googleapis.com/auth/calendar',
              'https://www.googleapis.com/auth/tasks',
              'https://www.googleapis.com/auth/drive'
          ]&lt;/setting&gt;
          &lt;setting type="as" name="AllowedSchemes"&gt;['https']&lt;/setting&gt;
          &lt;setting name="ClientId"&gt;44438659992-7kgjeitenc16ssihbtdjbgguch7ju55s.apps.googleusercontent.com&lt;/setting&gt;
          &lt;setting name="ClientSecret"&gt;-gMLuQyDiI0XrQS_vx_mhuYF&lt;/setting&gt;
          &lt;setting type="b" name="ForceClientAuthViaRequestBody"&gt;true&lt;/setting&gt;
        &lt;/group&gt;
      &lt;/group&gt;
    &lt;/group&gt;
  &lt;/template&gt;
&lt;/provider&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>of course, be sure and save the file - it will prompt you for your <code>sudo</code> password and save the file just fine</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps">next steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>now, go into <strong>System Settings</strong></p>
</div>
<div class="paragraph">
<p>under the <strong>Networking</strong> section on the left</p>
</div>
<div class="paragraph">
<p>select <strong>Online Accounts</strong></p>
</div>
<div class="paragraph">
<p>on the upper, right, click <strong>+ Add Account</strong> and choose <strong>Google</strong></p>
</div>
<div class="paragraph">
<p>it should look like</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/using-google-drive-on-archlinux-kde-plasma/Online-Accounts-Google-Login.webp" alt="Gmail login for GNOME" width="not KDE">
</div>
</div>
<div class="paragraph">
<p>notice it says GNOME and not KDE</p>
</div>
<div class="paragraph">
<p>enter your Gmail account address and password on the next screens. i use Passkeys, so it&#8217;s a bit different for me, but still works</p>
</div>
<div class="paragraph">
<p>once you&#8217;re logged in and given GNOME all the settings, Dolphin will just work, as-is</p>
</div>
<div class="paragraph">
<p>in Network, Google Drive, of course</p>
</div>
<div class="paragraph">
<p>and, obviously, you can pin it as well</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>yes, it&#8217;s a bit of work - but very doable</p>
</div>
<div class="paragraph">
<p>the file, above, is also available for you to just download and use as is - it&#8217;s exactly the same as above</p>
</div>
<div class="paragraph">
<p><strong>File</strong>: <a href="/src/using-google-drive-on-archlinux-kde-plasma/google.provider"><code>google.provider</code></a></p>
</div>
<div class="paragraph">
<p><strong><code>md5sum</code></strong>: <code>a65ed15fb05cb710409434d5f6b87171</code></p>
</div>
</div>
</div></div>
    </article>
</main>

    <!-- Navigation arrows -->
    <nav class="container-fluid sr-text-centre">
        <div role="group" class="sr-paginator">
            <!-- First page -->
                <a href="https://sarah-rogue.me/index.html" role="button" class="secondary sr-theme-darker"><i
                        class="fa-solid fa-angles-left"></i> First</a>

            <!-- Previous page -->
                <a href="https://sarah-rogue.me/index2.html" role="button"
                   class="secondary sr-theme-darker"><i class="fa-solid fa-angle-left"></i> Previous</a>

            <!-- Page indicator -->
            <span role="button"
                  class="sr-theme-light">3 of 4</span>

            <!-- Next page -->
                <a href="https://sarah-rogue.me/index4.html" role="button" class="secondary sr-theme-darker">Next
                    <i class="fa-solid fa-angle-right"></i></a>

            <!-- Last page -->
                <a href="https://sarah-rogue.me/index4.html" role="button"
                   class="secondary sr-theme-darker">Last <i class="fa-solid fa-angles-right"></i></a>
        </div>
    </nav>

<footer class="container-fluid sr-theme-light sr-text-centre">
    <div>Copyright  Sarah Rogue</div>
    <div>
        <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">Attribution-NonCommercial-NoDerivatives 4.0 International</a>
        license
    </div>
    <div>Powered by <a href="https://picocss.com/">Pico CSS</a> and <a href="https://www.cloudflare.com/">Cloudflare</a></div>
</footer>

<script src="https://kit.fontawesome.com/9208356911.js" crossorigin="anonymous"></script>
</body>
</html>